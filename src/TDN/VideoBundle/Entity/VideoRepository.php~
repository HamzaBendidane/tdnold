<?php

namespace TDN\VideoBundle\Entity;

use Doctrine\ORM\EntityRepository;

/**
 * VideoRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class VideoRepository extends EntityRepository
{

	public function findMostRecents ($limite) {
		$qb = $this->createQueryBuilder('u');
		$query = $qb->select('u')
	        		->where($qb->expr()->like('u.statut', $qb->expr()->literal('VIDEO_PUBLIEE')))
	        		->orderBy('u.datePublication', 'DESC')
	        		->setMaxResults($limite)
	        		->getQuery();

	     $last = $query->getResult();
	     return $last;
	}

}
